{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nimport Link from 'next/link';\n\nfunction logout() {\n  return _logout.apply(this, arguments);\n}\n\nfunction _logout() {\n  _logout = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    var queryString, urlParams, token, headers, options, req, res, status;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(\"Logging out\");\n            queryString = window.location.search;\n            urlParams = new URLSearchParams(queryString);\n            token = urlParams.get('token');\n            headers = new Headers();\n            headers.append('Content-type', 'application/json');\n            options = {\n              method: 'POST',\n              headers: headers,\n              body: '{ \"token\": \"' + token + '\"}'\n            };\n            req = new Request('http://localhost:3000/users/logout', options);\n            _context.next = 10;\n            return fetch(req);\n\n          case 10:\n            res = _context.sent;\n            _context.next = 13;\n            return res.status;\n\n          case 13:\n            status = _context.sent;\n\n            if (status === 200) {\n              console.log(\"logout successful\");\n              window.location.href = \"/\";\n            } else {\n              console.log(\"Other errors\");\n            }\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _logout.apply(this, arguments);\n}\n\nvar Logout = function Logout() {\n  return React.createElement(\"div\", null, React.createElement(\"button\", {\n    className: \"button is-primary\",\n    type: \"submit\",\n    onClick: logout\n  }, \"Logout\"));\n};\n\nexport default Logout; //- link rel = \"stylesheet\" href = \"../css/guideMe.css\"\n// meta name = \"viewport\" content=\"width=device-width, initial-scale=1\"","map":null,"metadata":{},"sourceType":"module"}