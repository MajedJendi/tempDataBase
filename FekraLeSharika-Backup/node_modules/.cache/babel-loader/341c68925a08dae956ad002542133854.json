{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\majed\\\\eclipse-workspace\\\\FekraLeSharika-Backup\\\\pages\\\\Resources.js\";\nimport React, { Component } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Link from '@material-ui/core/Link';\nimport absoluteUrl from 'next-absolute-url';\nimport { useRouter } from 'next/router';\n\nfunction Copyright() {\n  return React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, 'Copyright © ', React.createElement(Link, {\n    color: \"inherit\",\n    href: \"https://material-ui.com/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, \"Your Website\"), ' ', new Date().getFullYear(), '.');\n}\n\nvar classes = makeStyles(function (theme) {\n  return {\n    icon: {\n      marginRight: theme.spacing(2)\n    },\n    heroContent: {\n      backgroundColor: theme.palette.background.paper,\n      padding: theme.spacing(8, 0, 6)\n    },\n    heroButtons: {\n      marginTop: theme.spacing(4)\n    },\n    cardGrid: {\n      paddingTop: theme.spacing(8),\n      paddingBottom: theme.spacing(8)\n    },\n    card: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    cardMedia: {\n      paddingTop: '56.25%' // 16:9\n\n    },\n    cardContent: {\n      flexGrow: 1\n    },\n    footer: {\n      backgroundColor: theme.palette.background.paper,\n      padding: theme.spacing(6)\n    }\n  };\n});\nvar location;\n\nvar Page =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Page, _React$Component);\n\n  function Page() {\n    _classCallCheck(this, Page);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Page).apply(this, arguments));\n  }\n\n  _createClass(Page, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(AppBar, {\n        position: \"relative\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(CameraIcon, {\n        className: classes.icon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        variant: \"h6\",\n        color: \"inherit\",\n        noWrap: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Album layout\"))), React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), React.createElement(Container, {\n        className: classes.cardGrid,\n        maxWidth: \"md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        spacing: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, this.props.repos.map(function (card) {\n        return React.createElement(Grid, {\n          item: true,\n          key: card.name,\n          xs: 12,\n          sm: 6,\n          md: 4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(Card, {\n          className: classes.card,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, React.createElement(CardMedia, {\n          style: {\n            height: 10,\n            paddingTop: '56%'\n          },\n          className: classes.cardMedia,\n          image: card.imgURL,\n          title: \"Image title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }), React.createElement(CardContent, {\n          className: classes.cardContent,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          gutterBottom: true,\n          variant: \"h5\",\n          component: \"h2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, card.name), React.createElement(Typography, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, card.shortDescription)), React.createElement(CardActions, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, React.createElement(Button, {\n          size: \"small\",\n          color: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, \"View\"), React.createElement(Button, {\n          size: \"small\",\n          color: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, \"Edit\"))));\n      })))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }), React.createElement(\"footer\", {\n        className: classes.footer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h6\",\n        align: \"center\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"Footer\"), React.createElement(Typography, {\n        variant: \"subtitle1\",\n        align: \"center\",\n        color: \"textSecondary\",\n        component: \"p\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"Something here to give the footer a purposes!\"), React.createElement(Copyright, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      })));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref) {\n        var query, cards, aws_access_key_id, aws_secret_access_key, AWS, s3, index, infoJson, info, prefix, params, categoryFolder, i, limit, newBucket, imgURL;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                query = _ref.query;\n                console.log(\"here **************-->\" + query.category.toString());\n                cards = [];\n                aws_access_key_id = \"AKIAJ75XCMI5V4JBEOAA\";\n                aws_secret_access_key = \"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\";\n                AWS = require('aws-sdk');\n                AWS.config.update({\n                  region: 'us-east-2',\n                  accessKeyId: aws_access_key_id,\n                  secretAccessKey: aws_secret_access_key\n                });\n                s3 = new AWS.S3(); // ----Uncomment here for static testing-----\n                // var Paved = {\n                //     \"name\" : \"Paved\", \"description\" : \"Email marketing and sponsored content, simplified. Find newsletters with subscriber profiles that fit your needs, and advertise with them.\",\n                //     \"shortDescription\" : \"Email marketing and sponsored content, simplified. Find newsletters with subscriber profiles that…\",\n                //     \"Likes\" : \"1\",\n                //     \"imgURL\" : \"https://y2u.be/img/why_y2ube_v2.png\",\n                //     \"URL\" : \"https://www.paved.com\"\n                // }\n                // cards[0] = Paved;\n                // cards[1] = Paved;\n                // cards[2] = Paved;\n                // cards[3] = Paved;\n                // cards[4] = Paved;\n\n                index = 0;\n                prefix = query.category.toString() + query.subcategory.toString();\n                params = {\n                  Bucket: 'the-resources',\n                  Prefix: query.category.toString() + query.subcategory.toString()\n                };\n                _context.next = 13;\n                return s3.listObjectsV2(params).promise();\n\n              case 13:\n                categoryFolder = _context.sent;\n                console.log(prefix);\n                console.log(categoryFolder.Contents);\n                i = 0;\n\n              case 17:\n                if (!(i < categoryFolder.KeyCount)) {\n                  _context.next = 36;\n                  break;\n                }\n\n                limit = categoryFolder.Contents[i].Key.lastIndexOf(\"/\");\n                newBucket = categoryFolder.Contents[i].Key.substring(0, limit);\n                console.log(\"newBucket: \" + newBucket);\n                params = {\n                  Bucket: 'the-resources/' + newBucket,\n                  Key: 'info.txt'\n                };\n                _context.next = 24;\n                return s3.getObject(params).promise();\n\n              case 24:\n                info = _context.sent;\n                infoJson = JSON.parse(info.Body.toString());\n                console.log(infoJson.name + '.png');\n                imgURL = s3.getSignedUrl('getObject', {\n                  Bucket: 'the-resources/' + newBucket,\n                  Key: '1234.png',\n                  Expires: 142662\n                });\n                console.log(\"infoJson.name: \" + infoJson.name);\n                console.log(\"imgURL: \" + imgURL);\n                infoJson[\"imgURL\"] = imgURL;\n                cards[index] = infoJson;\n                index++;\n\n              case 33:\n                i += 2;\n                _context.next = 17;\n                break;\n\n              case 36:\n                console.log(cards);\n                return _context.abrupt(\"return\", {\n                  repos: cards\n                });\n\n              case 38:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Page;\n}(React.Component);\n\nexport { Page as default };","map":{"version":3,"sources":["C:\\Users\\majed\\eclipse-workspace\\FekraLeSharika-Backup\\pages\\Resources.js"],"names":["React","Component","AppBar","Button","CameraIcon","Card","CardActions","CardContent","CardMedia","CssBaseline","Grid","Toolbar","Typography","makeStyles","Container","Link","absoluteUrl","useRouter","Copyright","Date","getFullYear","classes","theme","icon","marginRight","spacing","heroContent","backgroundColor","palette","background","paper","padding","heroButtons","marginTop","cardGrid","paddingTop","paddingBottom","card","height","display","flexDirection","cardMedia","cardContent","flexGrow","footer","location","Page","props","repos","map","name","imgURL","shortDescription","query","console","log","category","toString","cards","aws_access_key_id","aws_secret_access_key","AWS","require","config","update","region","accessKeyId","secretAccessKey","s3","S3","index","prefix","subcategory","params","Bucket","Prefix","listObjectsV2","promise","categoryFolder","Contents","i","KeyCount","limit","Key","lastIndexOf","newBucket","substring","getObject","info","infoJson","JSON","parse","Body","getSignedUrl","Expires"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CameraIcon from '@material-ui/icons/PhotoCamera';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Link from '@material-ui/core/Link';\r\nimport absoluteUrl from 'next-absolute-url';\r\nimport { useRouter } from 'next/router'\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst classes = makeStyles((theme) => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(8, 0, 6),\r\n  },\r\n  heroButtons: {\r\n    marginTop: theme.spacing(4),\r\n  },\r\n  cardGrid: {\r\n    paddingTop: theme.spacing(8),\r\n    paddingBottom: theme.spacing(8),\r\n  },\r\n  card: {\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  cardMedia: {\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n  },\r\n  footer: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(6),\r\n  },\r\n}));\r\n  \r\n\r\n\r\n\r\nlet location;\r\n\r\n\r\n\r\nexport default class Page extends React.Component {\r\n\r\n    static async getInitialProps({query}) {\r\n      console.log(\"here **************-->\"+ query.category.toString());\r\n      var cards = [];\r\n\r\n\r\n      const aws_access_key_id = \"AKIAJ75XCMI5V4JBEOAA\";\r\n      const aws_secret_access_key = \"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\";\r\n      var AWS = require('aws-sdk');\r\n      AWS.config.update({region : 'us-east-2', accessKeyId: aws_access_key_id, secretAccessKey: aws_secret_access_key});\r\n      var s3 = new AWS.S3();\r\n\r\n       // ----Uncomment here for static testing-----\r\n      // var Paved = {\r\n      //     \"name\" : \"Paved\", \"description\" : \"Email marketing and sponsored content, simplified. Find newsletters with subscriber profiles that fit your needs, and advertise with them.\",\r\n      //     \"shortDescription\" : \"Email marketing and sponsored content, simplified. Find newsletters with subscriber profiles that…\",\r\n      //     \"Likes\" : \"1\",\r\n      //     \"imgURL\" : \"https://y2u.be/img/why_y2ube_v2.png\",\r\n      //     \"URL\" : \"https://www.paved.com\"\r\n      // }\r\n      // cards[0] = Paved;\r\n      // cards[1] = Paved;\r\n      // cards[2] = Paved;\r\n      // cards[3] = Paved;\r\n      // cards[4] = Paved;\r\n\r\n      var index = 0;\r\n      var infoJson;\r\n      var info;\r\n      var prefix =  query.category.toString() + query.subcategory.toString();\r\n      var params = {Bucket: 'the-resources', Prefix: query.category.toString() + query.subcategory.toString()};\r\n      let categoryFolder = await s3.listObjectsV2(params).promise();\r\n      console.log(prefix);\r\n\r\n      console.log(categoryFolder.Contents);\r\n      for(var i = 0; i < categoryFolder.KeyCount; i += 2) {\r\n          var limit = categoryFolder.Contents[i].Key.lastIndexOf(\"/\");\r\n          var newBucket = categoryFolder.Contents[i].Key.substring(0, limit);\r\n          console.log(\"newBucket: \" + newBucket);\r\n          params = {Bucket: 'the-resources/' + newBucket, Key: 'info.txt'};\r\n          info = await s3.getObject(params).promise();\r\n          infoJson = JSON.parse(info.Body.toString());\r\n          console.log(infoJson.name + '.png');\r\n          const imgURL = s3.getSignedUrl('getObject', {\r\n              Bucket: 'the-resources/' + newBucket,\r\n              Key: '1234.png',\r\n              Expires: 142662\r\n          });\r\n          console.log(\"infoJson.name: \" + infoJson.name);\r\n          console.log(\"imgURL: \" + imgURL);\r\n          infoJson[\"imgURL\"] = imgURL;\r\n          cards[index] = infoJson;\r\n          index++;\r\n      }\r\n      console.log(cards);\r\n      return {repos:cards}\r\n    }\r\n\r\n    render() {\r\n        return (\r\n          <React.Fragment>\r\n          <CssBaseline />\r\n          <AppBar position=\"relative\">\r\n          <Toolbar>\r\n              <CameraIcon className={classes.icon} />\r\n              <Typography variant=\"h6\" color=\"inherit\" noWrap>\r\n              Album layout\r\n              </Typography>\r\n          </Toolbar>\r\n          </AppBar>\r\n          <main>\r\n          <br></br>\r\n          <br></br>\r\n          <Container className={classes.cardGrid} maxWidth=\"md\">\r\n              {/* End hero unit */}\r\n              <Grid container spacing={4}>\r\n              {this.props.repos.map(card => (\r\n                  <Grid item key= {card.name} xs={12} sm={6} md={4}>\r\n                  <Card className={classes.card}>\r\n                      <CardMedia\r\n                          style = {{ height: 10, paddingTop: '56%'}}\r\n                          className={classes.cardMedia}\r\n                          image= {card.imgURL}\r\n                          title=\"Image title\"\r\n                      />\r\n                      <CardContent className={classes.cardContent}>\r\n                      <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                          {card.name}\r\n                      </Typography>\r\n                      <Typography>\r\n                          {card.shortDescription}\r\n                      </Typography>\r\n                      </CardContent>\r\n                      <CardActions>\r\n                      <Button size=\"small\" color=\"primary\">\r\n                          View\r\n                      </Button>\r\n                      <Button size=\"small\" color=\"primary\">\r\n                          Edit\r\n                      </Button>\r\n                      </CardActions>\r\n                  </Card>\r\n                  </Grid>\r\n              ))}\r\n              </Grid>\r\n          </Container>\r\n          </main>\r\n          {/* Footer */}\r\n          <br></br>\r\n          <footer className={classes.footer}>\r\n          <Typography variant=\"h6\" align=\"center\" gutterBottom>\r\n              Footer\r\n          </Typography>\r\n          <Typography variant=\"subtitle1\" align=\"center\" color=\"textSecondary\" component=\"p\">\r\n              Something here to give the footer a purposes!\r\n          </Typography>\r\n          <Copyright />\r\n          </footer>\r\n          {/* End footer */}\r\n      </React.Fragment>\r\n        )\r\n    } \r\n}\r\n"]},"metadata":{},"sourceType":"module"}