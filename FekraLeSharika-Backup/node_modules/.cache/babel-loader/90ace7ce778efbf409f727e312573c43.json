{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\majed\\\\eclipse-workspace\\\\HopSpot\\\\testingRESTfulAPI\\\\components\\\\signup.js\";\nimport React from \"react\";\nimport Autosuggest from \"react-autosuggest\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport axios from \"axios\";\nimport Error from \"./Error\";\nvar ValidationSchema = Yup.object().shape({\n  password: Yup.string().min(1, \"Too Short!\").max(255, \"Too Long!\").required(\"Required\"),\n  email: Yup.string().email(\"Must be an email address\").max(255, \"Too Long!\").required(\"Required\"),\n  name: Yup.string().min(1, \"Too Short!\").max(255, \"Too Long!\").required(\"Required\"),\n  phone: Yup.string().min(1, \"Too Short!\").max(255, \"Too Long!\").required(\"Required\")\n});\n\nfunction userLogin(_x) {\n  return _userLogin.apply(this, arguments);\n}\n\nfunction _userLogin() {\n  _userLogin = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(req) {\n    var res, status;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log('Trying to login rn');\n            _context.next = 3;\n            return fetch(req);\n\n          case 3:\n            res = _context.sent;\n            _context.next = 6;\n            return res.status;\n\n          case 6:\n            status = _context.sent;\n\n            if (res.status === 200) {\n              console.log(\"success\"); //window.location.href = \"book\";\n            } else if (res.status === 409) {\n              console.log(\"Existing email\");\n              document.getElementById(\"input-row-email\").innerHTML = \"You are already registered, would you like to sign in\";\n              window.location.href = \"map?varid=\" + encodeURIComponent(res.json); //\treturn (<h2>wrong email or password</h2>);\n            } else if (res.status === 408) {\n              console.log(\"Existing phone number\");\n              document.getElementById(\"input-row-phone\").innerHTML = \"This phone number was already used\";\n            } else {\n              console.log(\"Other errors\");\n              document.getElementById(\"input-row-password\").innerHTML = \"Other errors\";\n            } //\treturn (<h2>wrong email or password</h2>);\n\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _userLogin.apply(this, arguments);\n}\n\nfunction fetchAll(_x2) {\n  return _fetchAll.apply(this, arguments);\n}\n\nfunction _fetchAll() {\n  _fetchAll = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(req) {\n    var headers, options, res;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            headers = new Headers();\n            options = {\n              method: 'GET',\n              headers: headers,\n              mode: 'cors',\n              cache: 'default'\n            }; // const req = new Request('http://localhost:3000/users', options);\n\n            _context2.next = 4;\n            return fetch(req);\n\n          case 4:\n            res = _context2.sent;\n            _context2.next = 7;\n            return res.status;\n\n          case 7:\n            status = _context2.sent;\n\n            if (status === 200) {\n              console.log('successful login');\n            }\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _fetchAll.apply(this, arguments);\n}\n\nexport default function Signup() {\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      country = _React$useState2[0],\n      setCountry = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      suggestions = _React$useState4[0],\n      setSuggestions = _React$useState4[1];\n\n  return React.createElement(Formik, {\n    initialValues: {\n      email: \"\",\n      password: \"\",\n      name: \"\",\n      phone: \"\"\n    },\n    validationSchema: ValidationSchema,\n    validate: function validate(values) {\n      var errors = {};\n      return errors;\n    },\n    onSubmit: function onSubmit(values, _ref) {\n      var setSubmitting = _ref.setSubmitting,\n          resetForm = _ref.resetForm;\n      setSubmitting(true);\n      var headers = new Headers();\n      headers.append('Content-type', 'application/json');\n      var options = {\n        method: 'POST',\n        headers: headers,\n        body: _JSON$stringify(values)\n      };\n      var req = new Request('http://localhost:3000/users/signup', options);\n      setTimeout(function () {\n        userLogin(req);\n        resetForm();\n        setCountry(\"\");\n        setSubmitting(false);\n      }, 500);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, function (_ref2) {\n    var values = _ref2.values,\n        errors = _ref2.errors,\n        touched = _ref2.touched,\n        handleChange = _ref2.handleChange,\n        handleBlur = _ref2.handleBlur,\n        handleSubmit = _ref2.handleSubmit,\n        isSubmitting = _ref2.isSubmitting,\n        setFieldValue = _ref2.setFieldValue;\n    return React.createElement(\"div\", {\n      className: \"columns is-mobile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"column is-half is-offset-one-quarter is-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      class: \"label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"div\", {\n      class: \"control has-icons-left has-icons-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input is-info\",\n      name: \"email\",\n      type: \"text\",\n      placeholder: \"Whats your email\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      class: \"icon is-small is-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-envelope\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"icon is-small is-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-exclamation-triangle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      class: \"help is-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"This email is invalid\"))), React.createElement(\"div\", {\n      class: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      class: \"label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"div\", {\n      class: \"control has-icons-left has-icons-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input is-info\",\n      name: \"name\",\n      type: \"text\",\n      placeholder: \"First and Last Name\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      class: \"icon is-small is-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"icon is-small is-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-exclamation-triangle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      class: \"help is-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"This email is invalid\"))), React.createElement(\"div\", {\n      class: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      class: \"label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Phone\"), React.createElement(\"div\", {\n      class: \"control has-icons-left has-icons-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input is-info\",\n      name: \"phone\",\n      type: \"text\",\n      placeholder: \"Phone Number\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.phone,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      class: \"icon is-small is-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-phone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"icon is-small is-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-exclamation-triangle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      class: \"help is-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"This email is invalid\"))), React.createElement(\"div\", {\n      class: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      class: \"label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"div\", {\n      class: \"control has-icons-left has-icons-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input is-info\",\n      name: \"password\",\n      type: \"text\",\n      placeholder: \"Password\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      value: values.password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      class: \"icon is-small is-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-shield-alt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"icon is-small is-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-exclamation-triangle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      class: \"help is-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"This email is invalid\"))), React.createElement(\"a\", {\n      className: \"button is-info\",\n      type: \"submit\",\n      disabled: isSubmitting,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \"Info\"), React.createElement(\"div\", {\n      className: \"input-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      disabled: isSubmitting,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, \"Submit\")))));\n  });\n} //<div className=\"input-row\">\n//    <h3 id = \"input-row-email\"></h3>\n//      <input\n//        type=\"text\"\n//        name=\"email\"\n//          placeholder=\"Email\"\n//        onChange={handleChange}\n//        onBlur={handleBlur}\n//        value={values.email}\n//        className={touched.email && errors.email ? \"has-error\" : null}\n//      />\n//      <Error touched={touched.email} message={errors.email} />\n//</div>","map":{"version":3,"sources":["C:\\Users\\majed\\eclipse-workspace\\HopSpot\\testingRESTfulAPI\\components\\signup.js"],"names":["React","Autosuggest","Formik","Yup","axios","Error","ValidationSchema","object","shape","password","string","min","max","required","email","name","phone","userLogin","req","console","log","fetch","res","status","document","getElementById","innerHTML","window","location","href","encodeURIComponent","json","fetchAll","headers","Headers","options","method","mode","cache","Signup","useState","country","setCountry","suggestions","setSuggestions","values","errors","setSubmitting","resetForm","append","body","Request","setTimeout","touched","handleChange","handleBlur","handleSubmit","isSubmitting","setFieldValue"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAGA,IAAMC,gBAAgB,GAAGH,GAAG,CAACI,MAAJ,GAAaC,KAAb,CAAmB;AAC1CC,EAAAA,QAAQ,EAAEN,GAAG,CAACO,MAAJ,GACPC,GADO,CACH,CADG,EACA,YADA,EAEPC,GAFO,CAEH,GAFG,EAEE,WAFF,EAGPC,QAHO,CAGE,UAHF,CADgC;AAK1CC,EAAAA,KAAK,EAAEX,GAAG,CAACO,MAAJ,GACJI,KADI,CACE,0BADF,EAEJF,GAFI,CAEA,GAFA,EAEK,WAFL,EAGJC,QAHI,CAGK,UAHL,CALmC;AASxCE,EAAAA,IAAI,EAAEZ,GAAG,CAACO,MAAJ,GACLC,GADK,CACD,CADC,EACE,YADF,EAELC,GAFK,CAED,GAFC,EAEI,WAFJ,EAGLC,QAHK,CAGI,UAHJ,CATkC;AAaxCG,EAAAA,KAAK,EAAEb,GAAG,CAACO,MAAJ,GACNC,GADM,CACF,CADE,EACC,YADD,EAENC,GAFM,CAEF,GAFE,EAEG,WAFH,EAGNC,QAHM,CAGG,UAHH;AAbiC,CAAnB,CAAzB;;SAmBeI,S;;;;;;;2BAAf,iBAAyBC,GAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AACGC,YAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AADH;AAAA,mBAGmBC,KAAK,CAACH,GAAD,CAHxB;;AAAA;AAGOI,YAAAA,GAHP;AAAA;AAAA,mBAKsBA,GAAG,CAACC,MAL1B;;AAAA;AAKOA,YAAAA,MALP;;AAOC,gBAAID,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACvBJ,cAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EADuB,CAGvB;AAGA,aAND,MAMO,IAAIE,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AAC/BJ,cAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AAEII,cAAAA,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CC,SAA3C,GAAuD,uDAAvD;AACHC,cAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAqB,eAAeC,kBAAkB,CAACR,GAAG,CAACS,IAAL,CAAtD,CAJ8B,CAO/B;AACC,aARM,MAQA,IAAIT,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAuB;AAC7BJ,cAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACII,cAAAA,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,EAA2CC,SAA3C,GAAuD,oCAAvD;AACJ,aAHM,MAGA;AACNP,cAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACII,cAAAA,QAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CC,SAA9C,GAA0D,cAA1D;AACJ,aA3BF,CA6BC;;;AA7BD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAiCeM,Q;;;;;;;2BAAf,kBAAwBd,GAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAGOe,YAAAA,OAHP,GAGiB,IAAIC,OAAJ,EAHjB;AAKUC,YAAAA,OALV,GAKoB;AACfC,cAAAA,MAAM,EAAE,KADO;AAEfH,cAAAA,OAAO,EAAEA,OAFM;AAGfI,cAAAA,IAAI,EAAE,MAHS;AAIfC,cAAAA,KAAK,EAAE;AAJQ,aALpB,EAYG;;AAZH;AAAA,mBAcsBjB,KAAK,CAACH,GAAD,CAd3B;;AAAA;AAcUI,YAAAA,GAdV;AAAA;AAAA,mBAekBA,GAAG,CAACC,MAftB;;AAAA;AAeGA,YAAAA,MAfH;;AAiBG,gBAAGA,MAAM,KAAK,GAAd,EAAmB;AAClBJ,cAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AAEA;;AApBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAwBA,eAAe,SAASmB,MAAT,GAAkB;AAAA,wBACDvC,KAAK,CAACwC,QAAN,CAAe,EAAf,CADC;AAAA;AAAA,MACxBC,OADwB;AAAA,MACfC,UADe;;AAAA,yBAEO1C,KAAK,CAACwC,QAAN,CAAe,EAAf,CAFP;AAAA;AAAA,MAExBG,WAFwB;AAAA,MAEXC,cAFW;;AAI/B,SACE,oBAAC,MAAD;AACE,IAAA,aAAa,EAAE;AACb9B,MAAAA,KAAK,EAAE,EADM;AAEbL,MAAAA,QAAQ,EAAE,EAFG;AAGbM,MAAAA,IAAI,EAAE,EAHO;AAIbC,MAAAA,KAAK,EAAE;AAJM,KADjB;AAOE,IAAA,gBAAgB,EAAEV,gBAPpB;AAQE,IAAA,QAAQ,EAAE,kBAAAuC,MAAM,EAAI;AAClB,UAAIC,MAAM,GAAG,EAAb;AAEA,aAAOA,MAAP;AACD,KAZH;AAaE,IAAA,QAAQ,EAAE,kBAACD,MAAD,QAA0C;AAAA,UAA/BE,aAA+B,QAA/BA,aAA+B;AAAA,UAAhBC,SAAgB,QAAhBA,SAAgB;AAClDD,MAAAA,aAAa,CAAC,IAAD,CAAb;AAIA,UAAMd,OAAO,GAAG,IAAIC,OAAJ,EAAhB;AACAD,MAAAA,OAAO,CAACgB,MAAR,CAAe,cAAf,EAA+B,kBAA/B;AAEA,UAAMd,OAAO,GAAG;AACfC,QAAAA,MAAM,EAAE,MADO;AAEfH,QAAAA,OAAO,EAAPA,OAFe;AAGfiB,QAAAA,IAAI,EAAE,gBAAeL,MAAf;AAHS,OAAhB;AAMA,UAAM3B,GAAG,GAAG,IAAIiC,OAAJ,CAAY,oCAAZ,EAAkDhB,OAAlD,CAAZ;AAGFiB,MAAAA,UAAU,CAAC,YAAM;AACbnC,QAAAA,SAAS,CAACC,GAAD,CAAT;AACH8B,QAAAA,SAAS;AACTN,QAAAA,UAAU,CAAC,EAAD,CAAV;AACAK,QAAAA,aAAa,CAAC,KAAD,CAAb;AACF,OALW,EAKT,GALS,CAAV;AAOC,KArCH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAuCG;AAAA,QACCF,MADD,SACCA,MADD;AAAA,QAECC,MAFD,SAECA,MAFD;AAAA,QAGCO,OAHD,SAGCA,OAHD;AAAA,QAICC,YAJD,SAICA,YAJD;AAAA,QAKCC,UALD,SAKCA,UALD;AAAA,QAMCC,YAND,SAMCA,YAND;AAAA,QAOCC,YAPD,SAOCA,YAPD;AAAA,QAQCC,aARD,SAQCA,aARD;AAAA,WAYF;AAAK,MAAA,SAAS,EAAE,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAE,2CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,QAAQ,EAAEF,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAK,MAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAO,MAAA,KAAK,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADD,EAEC;AAAK,MAAA,KAAK,EAAC,wCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AACC,MAAA,SAAS,EAAE,eADZ;AAEC,MAAA,IAAI,EAAC,OAFN;AAGC,MAAA,IAAI,EAAC,MAHN;AAIC,MAAA,WAAW,EAAC,kBAJb;AAKL,MAAA,QAAQ,EAAEF,YALL;AAMF,MAAA,MAAM,EAAEC,UANN;AAOC,MAAA,KAAK,EAAEV,MAAM,CAAC/B,KAPf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,EAWI;AAAM,MAAA,KAAK,EAAC,uBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,KAAK,EAAC,iBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAXJ,EAcI;AAAM,MAAA,KAAK,EAAC,wBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,KAAK,EAAC,6BAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAdJ,EAiBA;AAAG,MAAA,KAAK,EAAC,gBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAjBA,CAFD,CAFF,EA0BA;AAAK,MAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AAAO,MAAA,KAAK,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADH,EAEG;AAAK,MAAA,KAAK,EAAC,wCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AACC,MAAA,SAAS,EAAE,eADZ;AAEC,MAAA,IAAI,EAAC,MAFN;AAGC,MAAA,IAAI,EAAC,MAHN;AAIC,MAAA,WAAW,EAAC,qBAJb;AAKL,MAAA,QAAQ,EAAEwC,YALL;AAMF,MAAA,MAAM,EAAEC,UANN;AAOC,MAAA,KAAK,EAAEV,MAAM,CAAC9B,IAPf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,EAWI;AAAM,MAAA,KAAK,EAAC,uBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAXJ,EAcI;AAAM,MAAA,KAAK,EAAC,wBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,KAAK,EAAC,6BAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAdJ,EAiBA;AAAG,MAAA,KAAK,EAAC,gBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAjBA,CAFH,CA1BA,EAiDA;AAAK,MAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AAAO,MAAA,KAAK,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADH,EAEG;AAAK,MAAA,KAAK,EAAC,wCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AACC,MAAA,SAAS,EAAE,eADZ;AAEC,MAAA,IAAI,EAAC,OAFN;AAGC,MAAA,IAAI,EAAC,MAHN;AAIC,MAAA,WAAW,EAAC,cAJb;AAKL,MAAA,QAAQ,EAAEuC,YALL;AAMF,MAAA,MAAM,EAAEC,UANN;AAOC,MAAA,KAAK,EAAEV,MAAM,CAAC7B,KAPf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,EAWI;AAAM,MAAA,KAAK,EAAC,uBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,KAAK,EAAC,cAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAXJ,EAcI;AAAM,MAAA,KAAK,EAAC,wBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,KAAK,EAAC,6BAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAdJ,EAiBA;AAAG,MAAA,KAAK,EAAC,gBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAjBA,CAFH,CAjDA,EAwEA;AAAK,MAAA,KAAK,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AAAO,MAAA,KAAK,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADH,EAEG;AAAK,MAAA,KAAK,EAAC,wCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AACC,MAAA,SAAS,EAAE,eADZ;AAEC,MAAA,IAAI,EAAC,UAFN;AAGC,MAAA,IAAI,EAAC,MAHN;AAIC,MAAA,WAAW,EAAC,UAJb;AAKL,MAAA,QAAQ,EAAEsC,YALL;AAMF,MAAA,MAAM,EAAEC,UANN;AAOC,MAAA,KAAK,EAAEV,MAAM,CAACpC,QAPf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,EAWI;AAAM,MAAA,KAAK,EAAC,uBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,KAAK,EAAC,mBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAXJ,EAcI;AAAM,MAAA,KAAK,EAAC,wBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,KAAK,EAAC,6BAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAdJ,EAiBA;AAAG,MAAA,KAAK,EAAC,gBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAjBA,CAFH,CAxEA,EA+FE;AAAG,MAAA,SAAS,EAAC,gBAAb;AAA8B,MAAA,IAAI,EAAC,QAAnC;AAA4C,MAAA,QAAQ,EAAEgD,YAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA/FF,EAoGE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,QAAQ,EAAEA,YAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CApGF,CADJ,CADD,CAZE;AAAA,GAvCH,CADF;AAuKD,C,CAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React from \"react\";\r\n\r\nimport Autosuggest from \"react-autosuggest\";\r\nimport { Formik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\nimport Error from \"./Error\";\r\n\r\n\r\nconst ValidationSchema = Yup.object().shape({\r\n  password: Yup.string()\r\n    .min(1, \"Too Short!\")\r\n    .max(255, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  email: Yup.string()\r\n    .email(\"Must be an email address\")\r\n    .max(255, \"Too Long!\")\r\n    .required(\"Required\"),\r\n    name: Yup.string()\r\n    .min(1, \"Too Short!\")\r\n    .max(255, \"Too Long!\")\r\n    .required(\"Required\"),\r\n    phone: Yup.string()\r\n    .min(1, \"Too Short!\")\r\n    .max(255, \"Too Long!\")\r\n    .required(\"Required\")\r\n});\r\n\r\nasync function userLogin(req) {\r\n  \tconsole.log('Trying to login rn');\r\n\t\r\n\tconst res = await fetch(req);\r\n\t\r\n\tconst status = await res.status;\r\n\t\r\n\tif (res.status === 200) {\r\n\t\tconsole.log(\"success\");\r\n\t\t\r\n\t\t//window.location.href = \"book\";\r\n\r\n\t\t\r\n\t} else if (res.status === 409) {\r\n\tconsole.log(\"Existing email\");\r\n\t\r\n\t   \tdocument.getElementById(\"input-row-email\").innerHTML = \"You are already registered, would you like to sign in\";\r\n\t\twindow.location.href=\"map?varid=\" + encodeURIComponent(res.json);\r\n\r\n\t\r\n\t//\treturn (<h2>wrong email or password</h2>);\r\n\t} else if (res.status === 408){\r\n\t\tconsole.log(\"Existing phone number\");\r\n\t\t   \tdocument.getElementById(\"input-row-phone\").innerHTML = \"This phone number was already used\";\r\n\t} else {\r\n\t\tconsole.log(\"Other errors\");\r\n\t\t   \tdocument.getElementById(\"input-row-password\").innerHTML = \"Other errors\";\r\n\t}\r\n\r\n\t//\treturn (<h2>wrong email or password</h2>);\r\n\t\r\n}\r\n\r\nasync function fetchAll(req){\r\n\r\n\r\n\tconst headers = new Headers();\r\n\t\r\n    const options = { \r\n    \tmethod: 'GET',\r\n\t    headers: headers,\r\n\t    mode: 'cors',\r\n\t    cache: 'default'\t\r\n    };\r\n        \r\n   // const req = new Request('http://localhost:3000/users', options);\r\n        \r\n    const res = await fetch(req);\r\n  \tstatus = await res.status;\r\n  \t\r\n  \tif(status === 200) {\r\n  \t\tconsole.log('successful login');\r\n  \t\t\r\n  \t}\r\n  \t\r\n}\r\n\r\nexport default function Signup() {\r\n  const [country, setCountry] = React.useState(\"\");\r\n  const [suggestions, setSuggestions] = React.useState([]);\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        email: \"\",\r\n        password: \"\",\r\n        name: \"\",\r\n        phone: \"\",\r\n      }}\r\n      validationSchema={ValidationSchema}\r\n      validate={values => {\r\n        let errors = {};\r\n\r\n        return errors;\r\n      }}\r\n      onSubmit={(values, { setSubmitting, resetForm }) => {\r\n        setSubmitting(true);\r\n\r\n\r\n        \r\n        const headers = new Headers();\r\n        headers.append('Content-type', 'application/json');\r\n        \r\n        const options = { \r\n        \tmethod: 'POST',\r\n        \theaders,\r\n        \tbody: JSON.stringify(values),\r\n        };\r\n        \r\n        const req = new Request('http://localhost:3000/users/signup', options);\r\n        \r\n        \r\n      setTimeout(() => {\r\n          userLogin(req);\r\n\t      resetForm();\r\n\t      setCountry(\"\");\r\n\t      setSubmitting(false);\r\n\t   }, 500);\r\n        \r\n      }}\r\n    >\r\n      {({\r\n        values,\r\n        errors,\r\n        touched,\r\n        handleChange,\r\n        handleBlur,\r\n        handleSubmit,\r\n        isSubmitting,\r\n        setFieldValue\r\n      }) => (\r\n    \t\t  \r\n    \t\t  \r\n    \t<div className =\"columns is-mobile\">\r\n    \t\t<div className =\"column is-half is-offset-one-quarter is-4\">\r\n\t\t        <form onSubmit={handleSubmit}>\r\n\t\t\t\t          \r\n\t\t          <div class=\"field\">\r\n\t\t\t          <label class=\"label\">Email</label>\r\n\t\t\t          <div class=\"control has-icons-left has-icons-right\">\r\n\t\t\t\t            <input \r\n\t\t\t\t            \tclassName =\"input is-info\" \r\n\t\t\t\t            \tname=\"email\"\r\n\t\t\t\t            \ttype=\"text\" \r\n\t\t\t\t            \tplaceholder=\"Whats your email\" \r\n\t\t\t\t\t\t\t    onChange={handleChange}\r\n\t\t\t\t\t\t        onBlur={handleBlur}\r\n\t\t\t\t            \tvalue={values.email}\r\n\t\t\t\t            />\r\n\t\t\t\t            \r\n\t\t\t\t\t            <span class=\"icon is-small is-left\">\r\n\t\t\t\t\t              <i class=\"fas fa-envelope\"></i>\r\n\t\t\t\t\t            </span>\r\n\t\t\t\t\t            <span class=\"icon is-small is-right\">\r\n\t\t\t\t\t              <i class=\"fas fa-exclamation-triangle\"></i>\r\n\t\t\t\t\t              </span>\r\n\t\t\t          <p class=\"help is-danger\">This email is invalid</p>\r\n\t\t\t          </div>\r\n\t\t          </div>\r\n\t\t          \r\n\r\n\t\t\t       <div class=\"field\">\r\n\t\t\t          <label class=\"label\">Name</label>\r\n\t\t\t          <div class=\"control has-icons-left has-icons-right\">\r\n\t\t\t\t            <input \r\n\t\t\t\t            \tclassName =\"input is-info\" \r\n\t\t\t\t            \tname=\"name\"\r\n\t\t\t\t            \ttype=\"text\" \r\n\t\t\t\t            \tplaceholder=\"First and Last Name\" \r\n\t\t\t\t\t\t\t    onChange={handleChange}\r\n\t\t\t\t\t\t        onBlur={handleBlur}\r\n\t\t\t\t            \tvalue={values.name}\r\n\t\t\t\t            />\r\n\t\t\t\t            \r\n\t\t\t\t\t            <span class=\"icon is-small is-left\">\r\n\t\t\t\t\t              <i class=\"fas fa-user\"></i>\r\n\t\t\t\t\t            </span>\r\n\t\t\t\t\t            <span class=\"icon is-small is-right\">\r\n\t\t\t\t\t              <i class=\"fas fa-exclamation-triangle\"></i>\r\n\t\t\t\t\t              </span>\r\n\t\t\t          <p class=\"help is-danger\">This email is invalid</p>\r\n\t\t\t          </div>\r\n\t\t          </div>\r\n\t\t          \t\t          \r\n\t\t\t       <div class=\"field\">\r\n\t\t\t          <label class=\"label\">Phone</label>\r\n\t\t\t          <div class=\"control has-icons-left has-icons-right\">\r\n\t\t\t\t            <input \r\n\t\t\t\t            \tclassName =\"input is-info\" \r\n\t\t\t\t            \tname=\"phone\"\r\n\t\t\t\t            \ttype=\"text\" \r\n\t\t\t\t            \tplaceholder=\"Phone Number\" \r\n\t\t\t\t\t\t\t    onChange={handleChange}\r\n\t\t\t\t\t\t        onBlur={handleBlur}\r\n\t\t\t\t            \tvalue={values.phone}\r\n\t\t\t\t            />\r\n\t\t\t\t            \r\n\t\t\t\t\t            <span class=\"icon is-small is-left\">\r\n\t\t\t\t\t              <i class=\"fas fa-phone\"></i>\r\n\t\t\t\t\t            </span>\r\n\t\t\t\t\t            <span class=\"icon is-small is-right\">\r\n\t\t\t\t\t              <i class=\"fas fa-exclamation-triangle\"></i>\r\n\t\t\t\t\t              </span>\r\n\t\t\t          <p class=\"help is-danger\">This email is invalid</p>\r\n\t\t\t          </div>\r\n\t\t          </div>\r\n\t\t          \r\n\t\t\t       <div class=\"field\">\r\n\t\t\t          <label class=\"label\">Password</label>\r\n\t\t\t          <div class=\"control has-icons-left has-icons-right\">\r\n\t\t\t\t            <input \r\n\t\t\t\t            \tclassName =\"input is-info\" \r\n\t\t\t\t            \tname=\"password\"\r\n\t\t\t\t            \ttype=\"text\" \r\n\t\t\t\t            \tplaceholder=\"Password\" \r\n\t\t\t\t\t\t\t    onChange={handleChange}\r\n\t\t\t\t\t\t        onBlur={handleBlur}\r\n\t\t\t\t            \tvalue={values.password}\r\n\t\t\t\t            />\r\n\t\t\t\t            \r\n\t\t\t\t\t            <span class=\"icon is-small is-left\">\r\n\t\t\t\t\t              <i class=\"fas fa-shield-alt\"></i>\r\n\t\t\t\t\t            </span>\r\n\t\t\t\t\t            <span class=\"icon is-small is-right\">\r\n\t\t\t\t\t              <i class=\"fas fa-exclamation-triangle\"></i>\r\n\t\t\t\t\t              </span>\r\n\t\t\t          <p class=\"help is-danger\">This email is invalid</p>\r\n\t\t\t          </div>\r\n\t\t          </div>\r\n\t\t          \r\n\t\t          <a className=\"button is-info\" type=\"submit\" disabled={isSubmitting}>Info</a>\r\n\r\n\r\n\r\n\t\t          \r\n\t\t          <div className=\"input-row\">\r\n\r\n\t\t            <button type=\"submit\" disabled={isSubmitting}>\r\n\t\t              Submit\r\n\t\t            </button>\r\n\r\n\t\t          </div>\r\n\t\t        </form>\r\n\t\t    </div>\r\n        </div>\r\n      )}\r\n    </Formik>\r\n  );\r\n}\r\n\r\n\r\n//<div className=\"input-row\">\r\n//    <h3 id = \"input-row-email\"></h3>\r\n//      <input\r\n//        type=\"text\"\r\n//        name=\"email\"\r\n//          placeholder=\"Email\"\r\n//        onChange={handleChange}\r\n//        onBlur={handleBlur}\r\n//        value={values.email}\r\n//        className={touched.email && errors.email ? \"has-error\" : null}\r\n//      />\r\n//      <Error touched={touched.email} message={errors.email} />\r\n//</div>\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}